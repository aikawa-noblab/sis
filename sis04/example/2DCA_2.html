<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<title>サンプルプログラム4</title>
<style type="text/css">
<!--
body {
	background-color: #666666;
}
body,td,th {
	color: #FFFFFF;
}
.style1 {
	font-family: "ＭＳ Ｐゴシック", Osaka, "ヒラギノ角ゴ Pro W3"
}
.style2 {font-family: "ＭＳ ゴシック", "Osaka－等幅"}
-->
</style></head>

<body>
<table width="80%" border="2" align="center" bordercolor="#CCCCCC">
  <tr>
    <td><p>&nbsp;</p>
      <blockquote>
        <h3 class="style1">サンプルプログラム</h3>
        <blockquote>
          <p class="style1">2次元セルオートマトンのロマンチック・プログラム</p>
        </blockquote>
      </blockquote>      <p class="style1">&nbsp;</p></td>
  </tr>
</table>
<p>&nbsp;</p>
<table width="80%" border="2" align="center" bordercolor="#CCCCCC">
  <tr>
    <td><div align="left">
      <p><span class="style2"><br>
          <span class="src_typekeyword">int</span>&nbsp;sx,&nbsp;sy;&nbsp;<br>
          <span class="src_typekeyword">float</span>&nbsp;density&nbsp;=&nbsp;<span class="src_digit">0.5</span>;&nbsp;<br>
          <span class="src_typekeyword">int</span>[][][]&nbsp;world;<br>
          <span class="src_typekeyword">int</span>&nbsp;b_size&nbsp;=&nbsp;<span class="src_digit">10</span>;<br>
          <span class="src_typekeyword">int</span>&nbsp;counter&nbsp;=&nbsp;<span class="src_digit">0</span>;<br>
          <br>
          <span class="src_keyword">void</span>&nbsp;setup()&nbsp;<br>
          {&nbsp;<br>
&nbsp;&nbsp;size(<span class="src_digit">300</span>,&nbsp;<span class="src_digit">300</span>);<br>
&nbsp;&nbsp;colorMode(HSB,<span class="src_digit">100</span>);<br>
&nbsp;&nbsp;background(<span class="src_digit">100</span>);<br>
&nbsp;&nbsp;frameRate(<span class="src_digit">15</span>);<br>
&nbsp;&nbsp;sx&nbsp;=&nbsp;width;<br>
&nbsp;&nbsp;sy&nbsp;=&nbsp;height;<br>
&nbsp;&nbsp;world&nbsp;=&nbsp;<span class="src_keyword">new</span>&nbsp;<span class="src_typekeyword">int</span>[sx][sy][<span class="src_digit">2</span>];&nbsp;<br>
&nbsp;&nbsp;stroke(<span class="src_digit">255</span>);&nbsp;<br>
&nbsp;&nbsp;noStroke();<br>
&nbsp;&nbsp;smooth();<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;<span class="src_keyword">for</span>&nbsp;(<span class="src_typekeyword">int</span>&nbsp;i&nbsp;=&nbsp;<span class="src_digit">0</span>;&nbsp;i&nbsp;&lt;&nbsp;sx&nbsp;*&nbsp;sy&nbsp;*&nbsp;density;&nbsp;i++)&nbsp;{&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;world[(<span class="src_typekeyword">int</span>)random(sx)][(<span class="src_typekeyword">int</span>)random(sy)][<span class="src_digit">1</span>]&nbsp;=&nbsp;<span class="src_digit">1</span>;&nbsp;<br>
&nbsp;&nbsp;}&nbsp;<br>
}&nbsp;<br>
&nbsp;<br>
<span class="src_keyword">void</span>&nbsp;draw()&nbsp;<br>
{&nbsp;<br>
&nbsp;&nbsp;fadeToWhite();&nbsp;<br>
&nbsp;&nbsp;counter&nbsp;=&nbsp;counter&nbsp;+&nbsp;<span class="src_digit">1</span>;<br>
&nbsp;&nbsp;<br>
&nbsp;&nbsp;<span class="src_keyword">if</span>((counter&nbsp;%&nbsp;<span class="src_digit">3</span>)&nbsp;==&nbsp;<span class="src_digit">1</span>){<br>
&nbsp;<br>
&nbsp;&nbsp;<span class="src_keyword">for</span>&nbsp;(<span class="src_typekeyword">int</span>&nbsp;x&nbsp;=&nbsp;<span class="src_digit">0</span>;&nbsp;x&nbsp;&lt;&nbsp;width;&nbsp;x=x&nbsp;+&nbsp;b_size)&nbsp;{&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="src_keyword">for</span>&nbsp;(<span class="src_typekeyword">int</span>&nbsp;y&nbsp;=&nbsp;<span class="src_digit">0</span>;&nbsp;y&nbsp;&lt;&nbsp;height;&nbsp;y=y&nbsp;+&nbsp;b_size)&nbsp;{&nbsp;<br>
&nbsp;&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src_keyword">if</span>&nbsp;((world[x][y][<span class="src_digit">1</span>]&nbsp;==&nbsp;<span class="src_digit">1</span>)&nbsp;||&nbsp;(world[x][y][<span class="src_digit">1</span>]&nbsp;==&nbsp;<span class="src_digit">0</span>&nbsp;&amp;&amp;&nbsp;world[x][y][<span class="src_digit">0</span>]&nbsp;==&nbsp;<span class="src_digit">1</span>))&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;world[x][y][<span class="src_digit">0</span>]&nbsp;=&nbsp;<span class="src_digit">1</span>;&nbsp;<br>
&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;fill(<span class="src_digit">60</span>,<span class="src_digit">90</span>,<span class="src_digit">100</span>);&nbsp;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ellipse(x,&nbsp;y,&nbsp;b_size,&nbsp;b_size);<br>
<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src_keyword">if</span>&nbsp;(world[x][y][<span class="src_digit">1</span>]&nbsp;==&nbsp;-<span class="src_digit">1</span>)&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;world[x][y][<span class="src_digit">0</span>]&nbsp;=&nbsp;<span class="src_digit">0</span>;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;world[x][y][<span class="src_digit">1</span>]&nbsp;=&nbsp;<span class="src_digit">0</span>;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br>
&nbsp;&nbsp;}&nbsp;<br>
<br>
<br>
&nbsp;&nbsp;<span class="src_keyword">for</span>&nbsp;(<span class="src_typekeyword">int</span>&nbsp;x&nbsp;=&nbsp;<span class="src_digit">0</span>;&nbsp;x&nbsp;&lt;&nbsp;width;&nbsp;x=x+b_size)&nbsp;{&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;<span class="src_keyword">for</span>&nbsp;(<span class="src_typekeyword">int</span>&nbsp;y&nbsp;=&nbsp;<span class="src_digit">0</span>;&nbsp;y&nbsp;&lt;&nbsp;height;&nbsp;y=y+b_size)&nbsp;{&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src_typekeyword">int</span>&nbsp;count&nbsp;=&nbsp;neighbors(x,&nbsp;y);&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src_keyword">if</span>&nbsp;(count&nbsp;==&nbsp;<span class="src_digit">3</span>&nbsp;&amp;&amp;&nbsp;world[x][y][<span class="src_digit">0</span>]&nbsp;==&nbsp;<span class="src_digit">0</span>)&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;world[x][y][<span class="src_digit">1</span>]&nbsp;=&nbsp;<span class="src_digit">1</span>;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;<span class="src_keyword">if</span>&nbsp;((count&nbsp;&lt;&nbsp;<span class="src_digit">2</span>&nbsp;||&nbsp;count&nbsp;&gt;&nbsp;<span class="src_digit">3</span>)&nbsp;&amp;&amp;&nbsp;world[x][y][<span class="src_digit">0</span>]&nbsp;==&nbsp;<span class="src_digit">1</span>)&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;{&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;world[x][y][<span class="src_digit">1</span>]&nbsp;=&nbsp;-<span class="src_digit">1</span>;&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;}&nbsp;<br>
&nbsp;&nbsp;}<br>
&nbsp;&nbsp;}<br>
}&nbsp;<br>
<br>
&nbsp;<br>
<br>
<span class="src_typekeyword">int</span>&nbsp;neighbors(<span class="src_typekeyword">int</span>&nbsp;x,&nbsp;<span class="src_typekeyword">int</span>&nbsp;y)&nbsp;<br>
{&nbsp;<br>
&nbsp;&nbsp;<span class="src_keyword">return</span>&nbsp;world[(x&nbsp;+&nbsp;b_size)&nbsp;%&nbsp;sx][y][<span class="src_digit">0</span>]&nbsp;+&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;world[x][(y&nbsp;+&nbsp;b_size)&nbsp;%&nbsp;sy][<span class="src_digit">0</span>]&nbsp;+&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;world[(x&nbsp;+&nbsp;sx&nbsp;-&nbsp;b_size)&nbsp;%&nbsp;sx][y][<span class="src_digit">0</span>]&nbsp;+&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;world[x][(y&nbsp;+&nbsp;sy&nbsp;-&nbsp;b_size)&nbsp;%&nbsp;sy][<span class="src_digit">0</span>]&nbsp;+&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;world[(x&nbsp;+&nbsp;b_size)&nbsp;%&nbsp;sx][(y&nbsp;+&nbsp;b_size)&nbsp;%&nbsp;sy][<span class="src_digit">0</span>]&nbsp;+&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;world[(x&nbsp;+&nbsp;sx&nbsp;-&nbsp;b_size)&nbsp;%&nbsp;sx][(y&nbsp;+&nbsp;b_size)&nbsp;%&nbsp;sy][<span class="src_digit">0</span>]&nbsp;+&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;world[(x&nbsp;+&nbsp;sx&nbsp;-&nbsp;b_size)&nbsp;%&nbsp;sx][(y&nbsp;+&nbsp;sy&nbsp;-&nbsp;b_size)&nbsp;%&nbsp;sy][<span class="src_digit">0</span>]&nbsp;+&nbsp;<br>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;world[(x&nbsp;+&nbsp;b_size)&nbsp;%&nbsp;sx][(y&nbsp;+&nbsp;sy&nbsp;-&nbsp;b_size)&nbsp;%&nbsp;sy][<span class="src_digit">0</span>];&nbsp;<br>
}&nbsp;<br>
<br>
<span class="src_keyword">void</span>&nbsp;fadeToWhite(){<br>
&nbsp;&nbsp;rectMode(CORNER);<br>
&nbsp;&nbsp;fill(<span class="src_digit">60</span>,<span class="src_digit">10</span>,<span class="src_digit">100</span>,<span class="src_digit">5</span>);<br>
&nbsp;&nbsp;rect(<span class="src_digit">0</span>,<span class="src_digit">0</span>,width,height);<br>
}<br>


      </span><br>
    </p>
      </div></td>
  </tr>
</table>
<p>&nbsp;</p>
<p>&nbsp;</p>
<p><br>
<br>


</p>
</body>
</html>
